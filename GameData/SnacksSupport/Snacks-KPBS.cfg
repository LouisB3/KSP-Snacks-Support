//Planetary Habitat Mk1
@PART[KKAOSS_Habitat_MK1_g]:NEEDS[Snacks]
{
  MODULE
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 3
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.00015
			FlowMode = ALL_VESSEL
  	}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 7.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.00015
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	RESOURCE
	{
		name = Soil
		amount = 0
		maxAmount = 150
	}
}

//Planetary Habitat Mk2
@PART[KKAOSS_Habitat_MK2_g]:NEEDS[Snacks]
{
  MODULE
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 4
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.0002
			FlowMode = ALL_VESSEL
  	}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 10
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.0002
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	RESOURCE
	{
		name = Soil
		amount = 0
		maxAmount = 200
	}
}

//Planetary Central Hub
@PART[KKAOSS_Central_Hub]:NEEDS[Snacks]
{
  MODULE
	{
		name = SoilRecycler
		ConverterName = Soil Recycler
		StartActionName = Start Soil Recycler
		StopActionName = Stop Soil Recycler
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		RecyclerCapacity = 6
		INPUT_RESOURCE
		{
			ResourceName = Soil
			Ratio = 0.0003
			FlowMode = ALL_VESSEL
  	}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 15
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.0003
			DumpExcess = false
			FlowMode = ALL_VESSEL
		}
	}
	RESOURCE
	{
		name = Soil
		amount = 0
		maxAmount = 300
	}
}

//Planetary Laboratory
@PART[KKAOSS_Science_g]:NEEDS[Snacks]
{
  MODULE
	{
		name = SnackProcessor
		ConverterName = Snack Processor
		StartActionName = Start Snack Processor
		StopActionName = Stop Snack Processor
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio = 0.002
			FlowMode = STAGE_PRIORITY_FLOW
  	}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 30
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.02
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		}
	}
}

//Planetary Greenhouse
@PART[KKAOSS_Greenhouse_g]:NEEDS[Snacks]:FINAL
{
  @tags = snacks cck-lifesupport
  !MODULE[PlanetaryGreenhouse]{}
  MODULE
	{
		name = SnackProcessor
		ConverterName = Snack Processor
		StartActionName = Start Snack Processor
		StopActionName = Stop Snack Processor
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio = 0.002
			FlowMode = STAGE_PRIORITY_FLOW
  	}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 7.5
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.02
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		}
	}
}

//Greenhouse Container
@PART[KKAOSS_LS_container_greenhouse]:NEEDS[Snacks]:FINAL
{
  @tags = snacks cck-lifesupport
  !MODULE[ModuleKPBSConverter]{}
  MODULE
	{
		name = SnackProcessor
		ConverterName = Snack Processor
		StartActionName = Start Snack Processor
		StopActionName = Stop Snack Processor
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		ExperienceEffect = ScienceSkill
		EfficiencyBonus = 1.0
		INPUT_RESOURCE
		{
			ResourceName = Ore
			Ratio = 0.005
			FlowMode = STAGE_PRIORITY_FLOW
  	}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 15
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Snacks
			Ratio = 0.005
			DumpExcess = false
			FlowMode = STAGE_PRIORITY_FLOW
		}
	}
}

//Cross-way
@PART[KKAOSS_CrossSection_g]:NEEDS[Snacks]
{
  RESOURCE
  {
    name = Snacks
    amount = 0
    maxAmount = 300
  }
}

//Airlocks
@PART[KKAOSS_gangway_airlock,KKAOSS_airlock_end_g,KKAOSS_airlock_mid_g]:NEEDS[Snacks]:FINAL
{
  !RESOURCE[Snacks]{}
}

//Snack containers
@PART[KKAOSS_LS_container_snacks_*]:NEEDS[Snacks]
{
  @tags = snacks cck-lifesupport
}
